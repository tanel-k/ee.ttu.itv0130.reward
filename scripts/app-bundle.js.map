{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","components/cart/cart.js","components/shop-item/shop-item.js","containers/shop-page/shop-page.js","entities/shop-item.js","C:/Users/T/tp-git/ee.ttu.itv0130.reward/src/events/added-to-cart.js","events/events.js","components/cart/cart.scss","components/shop-item/shop-item.scss","containers/shop-page/shop-page.scss"],"names":["App","configureRouter","config","router","title","map","route","name","moduleId","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Cart","Element","element","ea","initializeData","attached","initializeDOMHooks","wireEvents","audioBank","cartClank","Audio","cartSemiClank","$cartIcon","$","querySelector","subscribe","cloneNode","play","effect","times","ShopItem","activate","shopItem","ShopPage","shopItems","cartOpen","on","event","cart","itemIcon","target","parents","find","eq","itemIconClone","clone","offset","top","left","css","appendTo","animate","setTimeout","publish","detach","imgPath","price","priceCurrencySymbol","stockCount","Object","assign","toFixed","AddedToCartSuccessEvent","AddedToCartFailureEvent"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  constructor() {}\n\n  configureRouter(config, router) {\n    this.router = router;\n    config.title = 'Reward store';\n    config.map([\n      {\n        route: '',\n        name: 'shop-page',\n        moduleId: 'containers/shop-page/shop-page'\n      }\n    ]);\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nimport 'jquery';\r\nimport 'jquery-ui-dist';\r\n\r\nimport { AddedToCartSuccessEvent, AddedToCartFailureEvent } from '../../events/events';\r\n\r\n@inject(Element, EventAggregator)\r\nexport default class Cart {\r\n  constructor(element, ea) {\r\n    this.element = element;\r\n    this.ea = ea;\r\n\r\n    this.initializeData();\r\n  }\r\n\r\n  attached() {\r\n    this.initializeDOMHooks();\r\n    this.wireEvents();\r\n  }\r\n\r\n  initializeData() {\r\n    this.audioBank = {\r\n      cartClank: new Audio('../../media/audio/shopping_cart_clank.mp3'),\r\n      cartSemiClank: new Audio('../../media/audio/shopping_cart_cut_short.mp3')\r\n    };\r\n  }\r\n\r\n  initializeDOMHooks() {\r\n    this.$cartIcon = $(this.element.querySelector('.shopping-cart-icon'));\r\n  }\r\n\r\n  wireEvents() {\r\n    this.ea.subscribe(AddedToCartSuccessEvent, event => {\r\n      this.audioBank.cartClank.cloneNode().play();\r\n      this.$cartIcon.effect('shake', { times: 2 }, 200);\r\n    });\r\n\r\n    this.ea.subscribe(AddedToCartFailureEvent, event => {\r\n      this.audioBank.cartSemiClank.cloneNode().play();\r\n    });\r\n  }\r\n}\r\n","export default class ShopItem {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  activate(shopItem) {\r\n    this.shopItem = shopItem;\r\n  }\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\n\r\nimport 'jquery';\r\nimport 'jquery-ui-dist';\r\n\r\nimport { default as ShopItem } from '../../entities/shop-item';\r\nimport { AddedToCartSuccessEvent } from '../../events/events';\r\n\r\n@inject(EventAggregator)\r\nexport class ShopPage {\r\n  shopItems = [\r\n    new ShopItem('Saw blade', '../../media/img/saw-blade.jpg', 2.00, '$', 120),\r\n    new ShopItem('Hammer', '../../media/img/hammer.jpg', 15.00, '$', 25),\r\n    new ShopItem('Pliers', '../../media/img/pliers.jpg', 23.40, '$', 24),\r\n    new ShopItem('Drill', '../../media/img/drill.jpg', 100.00, '$', 5),\r\n    new ShopItem('Screwdriver kit', '../../media/img/screw-drivers.jpg', 35.00, '$', 10),\r\n    new ShopItem('Wrench', '../../media/img/wrench.jpg', 17.00, '$', 24)\r\n  ];\r\n\r\n  constructor(ea) {\r\n    this.ea = ea;\r\n    this.audioBank = {\r\n      cartClank: new Audio('../../media/audio/shopping_cart_clank.mp3'),\r\n      cartSemiClank: new Audio('../../media/audio/shopping_cart_cut_short.mp3'),\r\n      cartOpen: new Audio('../../media/audio/shopping_cart_open.mp3')\r\n    };\r\n  }\r\n\r\n  attached() {\r\n    // animate adding stuff to the cart\r\n    $('button.add-to-cart').on('click', (event) => {\r\n      const cart = $('.shopping-cart-icon');\r\n      const itemIcon = $(event.target).parents('.item').find('img').eq(0);\r\n\r\n      if (itemIcon) {\r\n        const itemIconClone = itemIcon.clone()\r\n          .offset({\r\n            top: itemIcon.offset().top,\r\n            left: itemIcon.offset().left\r\n          })\r\n          .css({\r\n            'opacity': '0.5',\r\n            'position': 'absolute',\r\n            'height': '150px',\r\n            'width': '150px',\r\n            'z-index': '100'\r\n          })\r\n          .appendTo($('body'))\r\n          .animate({\r\n            'top': cart.offset().top + 10,\r\n            'left': cart.offset().left + 10,\r\n            'width': 75,\r\n            'height': 75\r\n          }, 750, 'easeInOutExpo');\r\n        setTimeout(() => {\r\n          this.ea.publish(new AddedToCartSuccessEvent());\r\n        }, 1250);\r\n\r\n        itemIconClone.animate({ 'width': 0, 'height': 0 }, () => {\r\n          $(itemIconClone).detach();\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","export default class ShopItem {\r\n  constructor(name, imgPath, price, priceCurrencySymbol, stockCount) {\r\n    Object.assign(this, {\r\n      name,\r\n      imgPath,\r\n      price,\r\n      priceCurrencySymbol,\r\n      stockCount\r\n    });\r\n  }\r\n\r\n  get priceString() {\r\n    return `${this.priceCurrencySymbol}${this.price.toFixed(2)}`;\r\n  }\r\n}\r\n",null,"export class AddedToCartSuccessEvent {}\r\nexport class AddedToCartFailureEvent {}\r\n",".shopping-cart-container {\r\n  float: right;\r\n}\r\n\r\n.shopping-cart-icon {\r\n    display: inline-block;\r\n    background: url('http://cdn1.iconfinder.com/data/icons/jigsoar-icons/24/_cart.png') no-repeat 0 0;\r\n    width: 24px;\r\n    height: 24px;\r\n    margin: 0 10px 0 0;\r\n}\r\n",".item {\r\n  background-color: #fff;\r\n  float: left;\r\n  padding: 5px;\r\n  margin: 5px;\r\n\r\n  img {\r\n      display: block;\r\n      margin: auto;\r\n      height: 200px;\r\n      width: 200px;\r\n  }\r\n\r\n  p {\r\n    margin: 0;\r\n  }\r\n}\r\n\r\n.item.panel-primary {\r\n  .panel-heading {\r\n    h1,h2,h3,h4,h5,h6 {\r\n      &.primary {\r\n        color: white !important;\r\n      }\r\n\r\n      &.secondary {\r\n        color: #F5F3F0 !important;\r\n      }\r\n    }\r\n  }\r\n}",".wrapper {\r\n    width: 800px;\r\n    margin: 20px auto;\r\n    padding: 20px;\r\n}\r\n\r\n.items {\r\n    display: block;\r\n    margin: 20px 0;\r\n}\r\n"],"sourceRoot":".."}